(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{367:function(s,e,a){"use strict";a.r(e);var t=a(42),o=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"acesso-da-api-serpro"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acesso-da-api-serpro"}},[s._v("#")]),s._v(" Acesso da API - SERPRO")]),s._v(" "),a("p",[s._v("As APIs disponibilizadas pela plataforma "),a("strong",[s._v("API Serpro")]),s._v(" utilizam o protocolo "),a("strong",[s._v("Oauth2")]),s._v(" para realizar a autenticação e autorização de acesso das APIs contratadas.")]),s._v(" "),a("h2",{attrs:{id:"primeiro-passo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#primeiro-passo"}},[s._v("#")]),s._v(" Primeiro passo")]),s._v(" "),a("p",[s._v("Para consumir as "),a("strong",[s._v("APIs")]),s._v(", você deverá utilizar os dois códigos ("),a("strong",[s._v("Consumer Key")]),s._v(" e "),a("strong",[s._v("Consumer Secret")]),s._v(") disponibilizados na "),a("strong",[s._v("Área do Cliente")]),s._v(". Esses códigos servem para identificar o contrato.")]),s._v(" "),a("p",[a("strong",[s._v("Exemplos de códigos")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Consumer Key: djaR21PGoYp1iyK2n2ACOH9REdUb\nConsumer Secret: ObRsAJWOL4fv2Tp27D1vd8fB3Ote\n")])])]),a("h2",{attrs:{id:"segundo-passo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#segundo-passo"}},[s._v("#")]),s._v(" Segundo passo")]),s._v(" "),a("p",[s._v("Para consultar as "),a("strong",[s._v("APIs")]),s._v(", é necessário obter um token de acesso temporário ("),a("strong",[s._v("Bearer")]),s._v("). Esse token possui um tempo de validade e sempre que expirado, este passo de "),a("strong",[s._v("requisição")]),s._v(" de um novo token de acesso deve ser repetido.")]),s._v(" "),a("h3",{attrs:{id:"como-solicitar-um-token-de-acesso"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#como-solicitar-um-token-de-acesso"}},[s._v("#")]),s._v(" Como solicitar um token de acesso")]),s._v(" "),a("p",[s._v("Para solicitar o "),a("strong",[s._v("token temporário")]),s._v(" é necessário realizar uma requisição "),a("code",[s._v("HTTP POST")]),s._v(" para o endpoint Token "),a("code",[s._v("https://apigateway.serpro.gov.br/token")]),s._v(", informando as credenciais de acesso ("),a("code",[s._v("consumerKey:consumerSecret)")]),s._v(" no "),a("strong",[s._v("HTTTP Header Authorization")]),s._v(", no formato "),a("strong",[s._v("base64")]),s._v(", conforme exemplo abaixo.")]),s._v(" "),a("p",[s._v("As "),a("strong",[s._v("credenciais")]),s._v(" de acesso devem ser obtidas a partir do "),a("a",{attrs:{href:"https://minhaconta.serpro.gov.br",target:"_blank",rel:"noopener noreferrer"}},[s._v("Portal do cliente Serpro"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("REQUEST")]),s._v(" "),a("p",[s._v("[POST] https://apigateway.serpro.gov.br/token?grant_type=client_credentials")]),s._v(" "),a("p",[s._v("[HEAD] Authorization: Basic base64("),a("code",[s._v("ZGphUjIxUEdvWXAxaXlLMm4yQUNPSDlSRWRVYjpPYlJzQUpXT0w0ZnYyVHAyN0QxdmQ4ZkIzT3RlCg")]),s._v(")")])]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("RESPONSE")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scope"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"am_application_scope default"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"token_type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Bearer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"expires_in"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3295")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"access_token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c66a7def1c96f7008a0c397dc588b6d7"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),a("h2",{attrs:{id:"fonte"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fonte"}},[s._v("#")]),s._v(" Fonte")]),s._v(" "),a("p",[s._v("Para mais detalhes "),a("a",{attrs:{href:"https://servicos.serpro.gov.br/inteligencia-de-negocios-serpro/biblioteca/arquivos/como-autenticar-documentacao-api.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("acesse"),a("OutboundLink")],1),s._v(".")])])}),[],!1,null,null,null);e.default=o.exports}}]);